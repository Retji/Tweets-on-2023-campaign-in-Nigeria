#cron schedule

name: scrape_tweets

on:
  schedule:
    - cron: "* */12 * * *"
env:
  ACTIONS_ALLOW_UNSECURE_COMMANDS: true

jobs:
  build:
    runs-on: windows-latest
  
    steps:
    - name: Checkout repo
    - uses: actions/checkout@v2
    - name: Set up Python
      uses: actions/setup-python@v2.0.0
      with:
        python-version: "3.7"
    - name: Install dependencies
      run: |
            pip  snscrabe
            pip install python
            pip install -r requirements.txt
    
    - name: run campaign_tweets
      env:
        CONSUMER_KEY: ${{secrets.CONSUMER_KEY}}
        CONSUMER_SECRETS: $${{secrets.CONSUMER_SECRETS}}
      run: |
            Peter_Obi_tweets.py
        
